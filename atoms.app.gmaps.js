/* atoms v0.03.25 - 2014/3/25
   http://atomic.tapquo.com
   Copyright (c) 2014 Tapquo S.L. - Licensed  */
(function(){"use strict";var script,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},__slice=[].slice;Atoms.Atom.GMap=function(_super){function GMap(attributes){null==attributes&&(attributes={}),GMap.__super__.constructor.call(this,attributes),this.onGmapsLoad()}return __extends(GMap,_super),GMap.template='<div {{#if.style}}class="{{style}}"{{/if.style}}></div>',GMap.base="GMap",GMap.prototype.markers=[],GMap.prototype.onGmapsLoad=function(){var _this=this;return setTimeout(function(){var options;return options={center:new google.maps.LatLng(-34.397,150.644),zoom:8,mobile:!0,sensor:!1,disableDefaultUI:!0},_this.instance=new google.maps.Map(_this.el[0],options)},1e3)},GMap.prototype.clean=function(){var i,len;for(i=0,len=this.markers.length;len>i;)this.markers[i].setMap(null),i++;return this.markers=[]},GMap.prototype.center=function(position){return this.instance.setCenter(new google.maps.LatLng(position.latitude,position.longitude))},GMap.prototype.zoom=function(level){return this.instance.setZoom(level)},GMap.prototype.addMarker=function(position,icon,animate){var marker;return null==animate&&(animate=!1),marker=new google.maps.Marker({map:this.instance,icon:this.__markerIcon(icon),position:new google.maps.LatLng(position.latitude,position.longitude)}),animate&&marker.setAnimation(google.maps.Animation.BOUNCE),this.markers.push(marker)},GMap.prototype.__markerIcon=function(icon){return icon?new google.maps.MarkerImage(icon.url,new google.maps.Size(icon.size.x,icon.size.y),new google.maps.Point(0,0),new google.maps.Point(icon.anchor.x,icon.anchor.y)):null},GMap}(Atoms.Class.Atom),script=document.createElement("script"),script.type="text/javascript",script.src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true&callback=console.log",document.body.appendChild(script),Atoms.Organism.GMapFullScreen=function(_super){function GMapFullScreen(){this["default"]={children:[{"Atom.GMap":{id:"gmap"}},{"Atom.Button":{icon:"navicon",style:"small"}},{"Molecule.Form":{events:["submit"],children:[{"Atom.Input":{name:"adress",placeholder:"Type a address",required:!0}},{"Atom.Button":{icon:"search",text:"Search",style:"fluid accept"}}]}}]},GMapFullScreen.__super__.constructor.apply(this,arguments),this.bind("show",this.onShow)}return __extends(GMapFullScreen,_super),GMapFullScreen.available=["Atom.Input","Atom.Button","Atom.GMap","Molecule.Form"],GMapFullScreen.prototype.onShow=function(){var _this=this;return setTimeout(function(){return _this.gmap.el.style("height",_this.gmap.el.parent()[0].clientHeight+"px")},10)},GMapFullScreen.prototype.onFormSubmit=function(){var event,form,hierarchy,position;return event=arguments[0],form=arguments[1],hierarchy=3<=arguments.length?__slice.call(arguments,2):[],event.preventDefault(),position={latitude:43.256963,longitude:-2.923441},this.gmap.addMarker(position),this.gmap.center(position),this.gmap.zoom(16)},GMapFullScreen.prototype.onButtonTouch=function(){return!1},GMapFullScreen}(Atoms.Organism.Section)}).call(this);